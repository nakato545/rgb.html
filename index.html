<index html>

<html lang="ja">
<head>
<meta charset="UTF-8">
<title>統合シミュレーション集</title>
<style>
body { font-family:sans-serif; text-align:center; background:#f7f7f7; }
button { margin:10px; font-size:18px; }
#container { display:none; }
</style>
</head>
<body>

<h1>シミュレーション選択ページ</h1>
<p>下のボタンで実行したいシミュレーションを選んでください。</p>
<button onclick="showSimulation('soccer')">⚽ サッカー二次関数シミュレーション</button>
<button onclick="showSimulation('antenna')">放物線アンテナと光線シミュレーション</button>
<button onclick="showSimulation('monte')">モンテカルロ法でπを求める</button>

<div id="container"></div>

<script>
function showSimulation(sim){
    const container = document.getElementById('container');
    container.style.display = "block";
    container.innerHTML = ""; // クリア

    if(sim==="soccer"){
        container.innerHTML = `
<!-- サッカー二次関数シミュレーション -->
<!-- ここからコピー -->
<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>サッカー二次関数シミュレーション</title>
<style>
body { font-family:sans-serif; text-align:center; background:#f7f7f7; }
canvas { background:#fff; border:1px solid #bbb; }
.controls { margin-top:10px; }
button,input[type=range] { margin:5px; }
#formula { position:absolute; background:rgba(255,255,255,0.8); padding:4px; font-weight:bold; bottom:40px; left:60px; }
#bigmsg { position:absolute; left:50%; top:45%; transform:translate(-50%,-50%); font-size:48px; font-weight:bold; color:#0a6; display:none; }
</style>
</head>
<body>

<h2>⚽ サッカーと二次関数</h2>
<div style="position:relative; display:inline-block;">
<canvas id="cv" width="900" height="600"></canvas>
<div id="formula"></div>
<div id="bigmsg"></div>
</div>

<div class="controls">
<label>目標 X:<input id="mx" type="range" min="10.1" max="10.9" step="0.01" value="10.5"></label><br>
<label>目標 Y:<input id="my" type="range" min="0.1" max="9.9" step="0.1" value="5"></label><br>
<button id="startBtn" style="font-size:20px; background:#ff8;">シュート</button>
<button id="resetBtn">リセット</button>
<label><input id="axisToggle" type="checkbox" checked> 座標軸表示</label>
<button id="show解説">解説</button>
</div>

<div id="解説" style="display:none; max-width:800px; margin:auto; text-align:left; background:#f9f9f9; border:1px solid #ccc; padding:10px; border-radius:8px; margin-top:10px;">
<h3>サッカーと二次関数の解説</h3>
<p>⚽ サッカーのシュートは、ボールが放物線を描く運動の代表例です。</p>
<ul>
<li>放物線の一番高い点を <span style="color:red;">頂点</span> と呼びます。</li>
<li>平方完成をすると頂点の座標が求めやすくなります。</li>
</ul>
<p style="text-align:center; font-weight:bold;">
y = -0.6 (x - b/1.2)<sup>2</sup> + b<sup>2</sup>/1.2
</p>
<p>ゴール（目標点）を決めると放物線は一意に定まります。</p>
<p>放物線の頂点はボールの最高到達点であり、ゴールを通るかどうかを決める重要な要素です。</p>
<div style="border:1px solid #444; border-radius:10px; padding:10px; margin-top:10px; background:#f9f9f9;">
<h4>💡 他の身近な放物線</h4>
<ul>
<li>噴水の水の軌道</li>
<li>野球のフライ</li>
<li>バスケットボールのシュート</li>
</ul>
</div>
</div>

<script>
// ここに元のサッカー二次関数の全スクリプトをそのままコピー
</script>
<!-- ここまでコピー -->
        `;
    } else if(sim==="antenna"){
        container.innerHTML = `
<!-- 放物線アンテナと光線シミュレーション -->
<!-- ここからコピー -->
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>放物線アンテナと光線シミュレーション＋解説</title>
<script src="https://cdn.jsdelivr.net/npm/p5@1.4.2/lib/p5.js"></script>
<style>
body { text-align: center; font-family: sans-serif; }
canvas { border: 1px solid black; background: #f0f0f0; display:block; margin: 0 auto; }
#controls { margin-top: 10px; }
label { margin-right: 10px; }
button { margin-left: 5px; margin-right:5px; }
</style>
</head>
<body>
<h2>放物線アンテナと光線シミュレーション＋解説</h2>
<div id="controls">
  <button id="simButton">シミュレーション表示</button>
  <button id="explainButton">解説表示</button>
  <span id="simControls" style="display:inline-block;">
    <label for="xSlider">x座標:</label>
    <input type="range" id="xSlider" min="-100" max="100" value="0" step="1" style="width:300px;">
    <span id="xValue">0</span>
    <button id="dropButton">発射</button>
    <button id="superButton">スーパー発射</button>
    <button id="toggleFocus">焦点表示切替</button>
    <button id="lineButton">放物線/直線切替</button>
    <button id="resetButton">リセット</button>
  </span>
</div>

<script>
// ここに元の放物線アンテナの全スクリプトをそのままコピー
</script>
<!-- ここまでコピー -->
        `;
    } else if(sim==="monte"){
        container.innerHTML = `
<!-- モンテカルロ法でπを求める -->
<!-- ここからコピー -->
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>モンテカルロ法でπを求める</title>
</head>
<body>
<h1>モンテカルロ法でπを求めよう（面積1方式）</h1>
<p>赤：円の中、青：円の外</p>

<div style="display:flex; gap:20px;">
  <div>
    <canvas id="canvas" width="400" height="400" style="border:1px solid #000;"></canvas>
    <div style="margin-top:10px;">
      <button onclick="addPoints(100)">100点追加</button>
      <button onclick="resetAll()">リセット</button>
      <button onclick="showPrinciple()">原理を解説</button>
    </div>
    <p id="piValue">πの近似値: 0</p>
  </div>

  <div>
    <h3>πの近似値の推移</h3>
    <canvas id="graph" width="400" height="400" style="border:1px solid #000;"></canvas>
  </div>
</div>

<div id="principle" style="margin-top:20px; display:none; text-align:center; max-width:420px; margin:auto; border:1px solid #ccc; padding:10px; background:#f9f9f9;">
  <canvas id="principleCanvas" width="200" height="200" style="border:1px solid #000;"></canvas>
  <p id="principleText" style="text-align:left; margin-top:10px;"></p>
  <p id="principleSummary" style="margin-top:10px; font-weight:bold; color:darkred;"></p>
</div>

<script>
// ここに元のモンテカルロ法の全スクリプトをそのままコピー
</script>
<!-- ここまでコピー -->
        `;
    }
    window.scrollTo(0,0);
}
</script>

</body>
</html>
